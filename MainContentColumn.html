<!-- Main Content Column  -->
      <div class="flex flex-1 overflow-hidden gap-2 p-2" id="columns-container">
        <!-- Left Column - Guide -->
        <div
          id="left-column"
          class="mobile-tab-content w-full lg:w-72 bg-eu-white text-text-primary transition-all duration-300 flex flex-col rounded-lg lg:block hidden"
        >
          <!-- Expanded view -->
          <div class="expanded-content">
            <div class="flex flex-col h-full">
              <!-- Fixed Header -->
              <div class="flex-shrink-0 z-10">
                <div
                  class="flex items-center justify-between px-5 py-3 border-b border-eu-blue"
                >
                  <h2 class="text-lg font-semibold">Guide</h2>
                  <button
                    id="collapse-left"
                    class="text-eu-blue text-lg hover:text-eu-orange"
                    title="Collapse guide"
                    x-on:click="collapseLeftColumn"
                  >
                    <i class="fas fa-chevron-left"></i>
                  </button>
                </div>
              </div>

              <!-- Scrollable Content -->
              <div class="flex-1 overflow-y-auto p-4" id="guide-content">
                <!-- Document Info -->
                <div
                  class="mb-6 bg-eu-blue/5 p-4 rounded-lg border border-eu-blue/10"
                >
                  <h2
                    class="text-sm text-eu-blue/90 mb-2 font-medium document-title flex items-center"
                  >
                    <i class="far fa-file-alt mr-2 text-eu-blue/70"></i>
                    <span>Loading document...</span>
                  </h2>
                  <div class="flex items-center text-xs text-gray-600">
                    <i class="far fa-clock mr-1.5 text-eu-orange/80"></i>
                    <span
                      >Last updated:
                      <span
                        class="document-updated font-medium text-eu-orange ml-0.5"
                        >-</span
                      ></span
                    >
                  </div>
                </div>

                <!-- Document Sections (will be populated dynamically) -->
                <div id="document-sections" class="space-y-3">
                  <!-- Example section template (will be cloned and populated) -->
                  <div
                    class="document-section border border-gray-200 rounded-lg overflow-hidden transition-shadow hover:shadow-sm"
                    data-section-id="template"
                    style="display: none"
                  >
                    <button
                      class="section-trigger w-full text-left px-5 py-3.5 bg-gray-50 hover:bg-gray-100 font-medium flex items-center justify-between transition-colors duration-200"
                      x-on:click="toggleSection"
                    >
                      <span
                        class="text-base font-medium text-eu-blue section-title"
                        >Section Title</span
                      >
                      <i
                        class="fas fa-chevron-down text-xs text-gray-500 transition-transform duration-200 section-icon"
                      ></i>
                    </button>
                    <div class="section-content px-5 pb-4 hidden">
                      <div
                        class="relative pl-3.5 border-l-2 border-eu-orange my-2.5"
                      >
                        <p
                          class="text-sm text-gray-700 section-summary font-normal leading-relaxed"
                        >
                          Section summary will appear here.
                        </p>
                        <div
                          class="absolute -left-px top-0 w-0.5 h-full bg-gradient-to-b from-eu-orange/30 to-transparent"
                        ></div>
                      </div>
                      <div class="section-keywords flex flex-wrap gap-2 mt-3">
                        <!-- Keywords will be inserted here -->
                      </div>
                    </div>
                  </div>

                  <!-- Loading state -->
                  <div id="sections-loading" class="text-center py-4">
                    <div class="animate-pulse space-y-2">
                      <div class="h-4 bg-gray-200 rounded w-3/4 mx-auto"></div>
                      <div class="h-4 bg-gray-200 rounded w-1/2 mx-auto"></div>
                    </div>
                  </div>
                </div>

                <!-- Document Analysis -->
                <div
                  class="mt-6 bg-gradient-to-br from-eu-blue/5 to-eu-blue/10 p-4 rounded-lg border border-eu-blue/20"
                >
                  <div class="flex items-center mb-3">
                    <div class="bg-eu-blue/10 p-1.5 rounded-lg mr-3">
                      <i class="fas fa-chart-pie text-eu-blue/80 text-sm"></i>
                    </div>
                    <h3
                      class="text-xs font-semibold text-eu-blue/90 uppercase tracking-wider"
                    >
                      Document Analysis
                    </h3>
                  </div>
                  <div class="space-y-2.5 pl-10">
                    <div class="flex items-center text-xs text-gray-600">
                      <span class="w-20 text-gray-500">Content:</span>
                      <span class="document-length font-medium"
                        >- characters â€¢ - words</span
                      >
                    </div>
                    <div class="flex items-center text-xs text-gray-600">
                      <span class="w-20 text-gray-500">Model:</span>
                      <span class="document-model font-medium text-eu-blue/90"
                        >-</span
                      >
                    </div>
                    <div class="flex items-center text-xs text-gray-600">
                      <span class="w-20 text-gray-500">Status:</span>
                      <span
                        class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800"
                      >
                        <span
                          class="w-1.5 h-1.5 rounded-full bg-emerald-500 mr-1.5"
                        ></span>
                        Active
                      </span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Collapsed view -->
          <div class="collapsed-content hidden">
            <div class="relative h-[60px] w-12">
              <div
                class="absolute bottom-0 left-0 right-0 border-b border-eu-blue"
              ></div>
              <div class="flex items-center justify-center h-full w-full">
                <button
                  id="expand-left"
                  class="text-eu-blue text-lg hover:text-eu-orange"
                  title="Expand guide"
                  x-on:click="expandLeftColumn"
                >
                  <i class="fas fa-chevron-right"></i>
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Middle Column - Document -->
        <div
          id="middle-column"
          class="mobile-tab-content flex-1 bg-eu-white text-text-primary flex flex-col lg:block transition-all duration-300 rounded-lg shadow-[0_4px_6px_-1px_rgba(0,48,135,0.25),0_2px_4px_-1px_rgba(0,48,135,0.15)]"
        >
          <!-- Header -->
          <div
            class="flex items-center justify-between px-5 py-3 border-b border-eu-blue"
          >
            <h2 class="text-lg font-semibold text-eu-blue">Document</h2>
            <button
              class="text-eu-blue text-lg hover:text-eu-orange"
              id="expand-middle"
              x-on:click="toggleMiddleColumnFocus"
            >
              <i class="fas fa-expand-alt"></i>
            </button>
          </div>

          <!-- Document Content -->
          <div
            class="flex flex-col h-full overflow-hidden"
            id="document-content"
          >
            <!-- Fixed Header -->
            <div
              class="flex-shrink-0 z-10 bg-eu-blue/5 border-b border-eu-blue/10"
            >
              <!-- Document Info -->
              <div class="px-5 pt-4 pb-2 border-b border-gray-100">
                <h2
                  class="text-sm text-eu-blue/90 font-medium document-title flex items-center"
                >
                  <i class="far fa-file-alt mr-2 text-eu-blue/70"></i>
                  <span>Loading document...</span>
                </h2>
              </div>

              <!-- Action Bar -->
              <div class="px-5 py-2.5 flex justify-between items-center">
                <div class="flex items-center text-xs text-gray-600">
                  <i class="far fa-clock mr-1.5 text-eu-orange/80"></i>
                  <span
                    >Last updated:
                    <span
                      class="document-updated font-medium text-eu-orange ml-0.5"
                      >-</span
                    ></span
                  >
                </div>
                <div class="flex items-center space-x-4">
                  <button
                    class="text-eu-orange hover:text-eu-blue transition-colors"
                    title="Undo"
                    id="undo-btn"
                    data-action="undo"
                  >
                    <i class="fas fa-undo"></i>
                  </button>
                  <button
                    class="text-eu-orange hover:text-eu-blue transition-colors"
                    title="Redo"
                    id="redo-btn"
                    data-action="redo"
                  >
                    <i class="fas fa-redo"></i>
                  </button>
                  <button
                    class="text-eu-orange hover:text-green-600 transition-colors"
                    title="Save"
                    id="save-btn"
                    data-action="save"
                  >
                    <i class="far fa-save"></i>
                  </button>
                </div>
              </div>
            </div>

            <!-- Scrollable Content -->
            <div class="flex-1 overflow-y-auto bg-white p-4 pb-8">
              <div
                id="document-viewer"
                class="font-mono text-sm text-gray-800 space-y-4"
              >
                <!-- Document lines will be inserted here by JavaScript -->
                <div class="animate-pulse space-y-2">
                  <div class="h-4 bg-gray-200 rounded w-full"></div>
                  <div class="h-4 bg-gray-200 rounded w-5/6"></div>
                  <div class="h-4 bg-gray-200 rounded w-4/6"></div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Right Column - Annotation -->
        <div
          id="right-column"
          class="mobile-tab-content w-full lg:w-16 lg:hover:w-80 bg-eu-white text-text-primary border-l border-eu-blue transition-all duration-300 flex flex-col rounded-lg shadow-[0_4px_6px_-1px_rgba(0,48,135,0.25),0_2px_4px_-1px_rgba(0,48,135,0.15)] lg:block hidden"
        >
          <!-- Expanded view -->
          <div class="expanded-content">
            <div class="flex flex-col h-full">
              <!-- Fixed Header -->
              <div class="flex-shrink-0 z-10">
                <div
                  class="flex items-center justify-between px-5 py-3 border-b border-eu-blue"
                >
                  <h2 class="text-lg font-semibold">Annotation</h2>
                  <button
                    id="collapse-right"
                    class="text-eu-blue text-lg hover:text-eu-orange"
                    title="Collapse annotation panel"
                    x-on:click="collapseRightColumn"
                  >
                    <i class="fas fa-chevron-right"></i>
                  </button>
                </div>
              </div>

              <!-- Scrollable Content -->
              <div class="flex-1 overflow-y-auto p-4">
                <!-- Document Info -->
                <div
                  class="mb-6 bg-eu-blue/5 p-4 rounded-lg border border-eu-blue/10"
                >
                  <h2
                    class="text-sm text-eu-blue/90 mb-2 font-medium document-title flex items-center"
                  >
                    <i class="far fa-file-alt mr-2 text-eu-blue/70"></i>
                    <span>Loading document...</span>
                  </h2>
                  <div class="flex items-center text-xs text-gray-600">
                    <i class="far fa-clock mr-1.5 text-eu-orange/80"></i>
                    <span
                      >Last updated:
                      <span
                        class="document-updated font-medium text-eu-orange ml-0.5"
                        >-</span
                      ></span
                    >
                  </div>
                </div>

                <!-- Taxonomy Section -->
                <div class="mb-4">
                  <h3
                    class="text-xs font-semibold text-eu-blue uppercase tracking-wider mb-2"
                  >
                    Taxonomies
                  </h3>
                  <div id="taxonomy-container" class="space-y-2 mb-6">
                    <!-- Taxonomy items will be populated by JavaScript -->
                  </div>
                </div>

                <!-- Visualizations Section -->
                <div class="mb-4">
                  <h3
                    class="text-xs font-semibold text-eu-blue uppercase tracking-wider mb-6"
                  >
                    Visualizations
                  </h3>
                  <div id="visualizations-container" class="space-y-2">
                    <!-- Visualizations will be populated by JavaScript -->
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Collapsed view -->
          <div class="collapsed-content hidden">
            <div class="relative h-[60px] w-12">
              <div
                class="absolute bottom-0 left-0 right-0 border-b border-eu-blue"
              ></div>
              <div class="flex items-center justify-center h-full w-full">
                <button
                  id="expand-right"
                  class="text-eu-blue text-lg hover:text-eu-orange"
                  title="Expand panel"
                  x-on:click="expandRightColumn"
                >
                  <i class="fas fa-chevron-left"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>